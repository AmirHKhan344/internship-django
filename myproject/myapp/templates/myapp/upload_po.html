{% extends 'myapp/base.html' %}
{% block title %}Upload Purchase Order{% endblock %}
{% block content %}
<section class="page">
  <div class="page-card">
    <h1>Upload Purchase Order</h1>

<form method="post" action="{% url 'upload_po' %}" enctype="multipart/form-data">
  {% csrf_token %}

  <div id="dropZonePO" class="file-label" role="button" tabindex="0" aria-label="Select files">
    <span id="fileLabelPO">Select Files</span>
  </div>

  <!-- keep multiple and the exact name=files -->
  <input type="file" id="fileInputPO" name="files" multiple hidden>

  <button type="submit" class="btn-primary">Upload</button>
</form>
{% if message %}
      <p style="margin-top:12px;"><strong>{{ message }}</strong></p>
    {% endif %}

    {% if saved %}
      <ul class="data-list" style="margin-top:8px;">
        {% for url in saved %}
          <li>Saved: <a href="{{ url }}" target="_blank">{{ url }}</a></li>
        {% endfor %}
      </ul>
    {% endif %}

    {% if errors %}
      <ul class="data-list" style="margin-top:8px;">
        {% for err in errors %}
          <li style="background:#fee2e2;border-color:#fecaca;">Error: {{ err }}</li>
        {% endfor %}
      </ul>
    {% endif %}

  </div>
</section>
{% endblock %}
